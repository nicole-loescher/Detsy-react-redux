{"ast":null,"code":"const SET_PRODUCT = 'product/SET_PRODUCT';\nexport const setProduct = payload => ({\n  type: SET_PRODUCT,\n  payload\n});\nexport const getProduct = () => async dispatch => {\n  const res = await fetch(`/api/products`);\n\n  if (res.ok) {\n    const products = await res.json();\n    dispatch(SET_PRODUCT(products));\n  }\n\n  ;\n};\nexport const getOneProduct = id => async dispatch => {\n  const res = await fetch(`/api/products/${id}`);\n\n  if (res.ok) {\n    const product = await res.json();\n    dispatch(SET_PRODUCT(product));\n  }\n\n  ;\n};\nconst initState = {\n  products: []\n};\nconst productReducer = (state = initState, action => {\n  switch (action.type) {\n    case SET_PRODUCT:\n      {\n        const allProducts = {};\n        action.payload.forEach(product => {\n          allProducts[product.id] = product;\n        });\n        return { ...allProducts,\n          ...state,\n          payload: action.payload\n        };\n      }\n\n    default:\n      return state;\n  }\n});\nexport default productReducer;","map":{"version":3,"sources":["/Users/nicolelolo/Desktop/authenticate-me/frontend/src/store/product.js"],"names":["SET_PRODUCT","setProduct","payload","type","getProduct","dispatch","res","fetch","ok","products","json","getOneProduct","id","product","initState","productReducer","state","action","allProducts","forEach"],"mappings":"AAAA,MAAMA,WAAW,GAAG,qBAApB;AAEA,OAAO,MAAMC,UAAU,GAAIC,OAAD,KAAc;AACpCC,EAAAA,IAAI,EAAEH,WAD8B;AAEpCE,EAAAA;AAFoC,CAAd,CAAnB;AAKP,OAAO,MAAME,UAAU,GAAG,MAAM,MAAMC,QAAN,IAAiB;AAC7C,QAAMC,GAAG,GAAG,MAAMC,KAAK,CAAE,eAAF,CAAvB;;AAEA,MAAGD,GAAG,CAACE,EAAP,EAAU;AACN,UAAMC,QAAQ,GAAG,MAAMH,GAAG,CAACI,IAAJ,EAAvB;AACAL,IAAAA,QAAQ,CAACL,WAAW,CAACS,QAAD,CAAZ,CAAR;AACH;;AAAA;AACJ,CAPM;AASP,OAAO,MAAME,aAAa,GAAIC,EAAD,IAAQ,MAAMP,QAAN,IAAkB;AACnD,QAAMC,GAAG,GAAG,MAAMC,KAAK,CAAE,iBAAgBK,EAAG,EAArB,CAAvB;;AAEA,MAAGN,GAAG,CAACE,EAAP,EAAU;AACN,UAAMK,OAAO,GAAG,MAAMP,GAAG,CAACI,IAAJ,EAAtB;AACAL,IAAAA,QAAQ,CAACL,WAAW,CAACa,OAAD,CAAZ,CAAR;AACH;;AAAA;AACJ,CAPM;AASP,MAAMC,SAAS,GAAG;AACdL,EAAAA,QAAQ,EAAE;AADI,CAAlB;AAIA,MAAMM,cAAc,IAAMC,KAAK,GAAGF,SAAT,EAAqBG,MAAM,IAAI;AACpD,UAAQA,MAAM,CAACd,IAAf;AACI,SAAKH,WAAL;AAAkB;AACd,cAAMkB,WAAW,GAAG,EAApB;AACAD,QAAAA,MAAM,CAACf,OAAP,CAAeiB,OAAf,CAAuBN,OAAO,IAAI;AAC9BK,UAAAA,WAAW,CAACL,OAAO,CAACD,EAAT,CAAX,GAA0BC,OAA1B;AACH,SAFD;AAGA,eAAO,EACH,GAAGK,WADA;AAEH,aAAGF,KAFA;AAGHd,UAAAA,OAAO,EAAEe,MAAM,CAACf;AAHb,SAAP;AAKH;;AACD;AACI,aAAOc,KAAP;AAbR;AAeH,CAhBmB,CAApB;AAiBA,eAAeD,cAAf","sourcesContent":["const SET_PRODUCT = 'product/SET_PRODUCT';\n\nexport const setProduct = (payload) => ({\n    type: SET_PRODUCT,\n    payload\n});\n\nexport const getProduct = () => async dispatch =>{\n    const res = await fetch(`/api/products`);\n\n    if(res.ok){\n        const products = await res.json();\n        dispatch(SET_PRODUCT(products));\n    };\n};\n\nexport const getOneProduct = (id) => async dispatch => {\n    const res = await fetch(`/api/products/${id}`);\n\n    if(res.ok){\n        const product = await res.json();\n        dispatch(SET_PRODUCT(product));\n    };\n};\n\nconst initState = {\n    products: []\n}\n\nconst productReducer = ( (state = initState), action => {\n    switch( action.type ){\n        case SET_PRODUCT: {\n            const allProducts = {};\n            action.payload.forEach(product => {\n                allProducts[product.id] = product;\n            })\n            return {\n                ...allProducts,\n                ...state,\n                payload: action.payload\n            }\n        }\n        default:\n            return state;\n    }\n})\nexport default productReducer;"]},"metadata":{},"sourceType":"module"}