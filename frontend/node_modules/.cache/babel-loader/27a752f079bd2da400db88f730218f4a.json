{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/nicolelolo/Desktop/authenticate-me/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Link,Redirect,useHistory}from\"react-router-dom\";import*as sessionActions from\"../../store/session\";import Button from'react-bootstrap/Button';import Container from'react-bootstrap/Container';import'./Signup.css';function SignupFormPage(){var dispatch=useDispatch();var sessionUser=useSelector(function(state){return state.session.user;});var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),username=_useState4[0],setUsername=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),confirmPassword=_useState8[0],setConfirmPassword=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),errors=_useState10[0],setErrors=_useState10[1];var history=useHistory();if(sessionUser)return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});var handleSubmit=function handleSubmit(e){e.preventDefault();if(password===confirmPassword){setErrors([]);return dispatch(sessionActions.signup({email:email,username:username,password:password})).catch(function(res){if(res.data&&res.data.errors)setErrors(res.data.errors);});}return setErrors(['Confirm Password field must be the same as the Password field']);};return/*#__PURE__*/_jsxs(Container,{className:\"signup\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"signup__header\",children:\"Create an account today!\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"signup__form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"ul\",{children:errors.map(function(error,idx){return/*#__PURE__*/_jsx(\"li\",{className:\"signup__error\",children:error},idx);})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},required:true,placeholder:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,onChange:function onChange(e){return setUsername(e.target.value);},required:true,placeholder:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},required:true,placeholder:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:confirmPassword,onChange:function onChange(e){return setConfirmPassword(e.target.value);},required:true,placeholder:\"Confirm Password\"}),/*#__PURE__*/_jsx(Button,{className:\"signup__submit\",type:\"submit\",children:\"Let's roll!\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"signup__cancel\",children:\"Cancel\"})]})]});}export default SignupFormPage;","map":{"version":3,"sources":["/Users/nicolelolo/Desktop/authenticate-me/frontend/src/components/SignupFormPage/index.js"],"names":["React","useState","useDispatch","useSelector","Link","Redirect","useHistory","sessionActions","Button","Container","SignupFormPage","dispatch","sessionUser","state","session","user","email","setEmail","username","setUsername","password","setPassword","confirmPassword","setConfirmPassword","errors","setErrors","history","handleSubmit","e","preventDefault","signup","catch","res","data","map","error","idx","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link, Redirect, useHistory } from \"react-router-dom\";\nimport * as sessionActions from \"../../store/session\";\nimport Button from 'react-bootstrap/Button'\nimport Container from 'react-bootstrap/Container'\nimport './Signup.css'\n\nfunction SignupFormPage() {\n    const dispatch = useDispatch();\n    const sessionUser = useSelector((state) => state.session.user);\n    const [email, setEmail] = useState(\"\");\n    const [username, setUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [confirmPassword, setConfirmPassword] = useState(\"\");\n    const [errors, setErrors] = useState([]);\n    const history = useHistory();\n    \n    if (sessionUser) return <Redirect to=\"/\" />;\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        if (password === confirmPassword) {\n            setErrors([]);\n            return dispatch(sessionActions.signup({ email, username, password }))\n                .catch(res => {\n                    if (res.data && res.data.errors) setErrors(res.data.errors);\n                });\n        }\n        return setErrors(['Confirm Password field must be the same as the Password field']);\n    };\n\n    return (\n    <Container className='signup'>\n        <h1 className='signup__header'>Create an account today!</h1>\n        <form className='signup__form' onSubmit={handleSubmit}>\n            <ul>\n                {errors.map((error, idx) => <li className='signup__error' key={idx}>{error}</li>)}\n            </ul>\n        <input\n                    type=\"text\"\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                    required\n                    placeholder='Email'\n                    />\n        <input\n                    type=\"text\"\n                    value={username}\n                    onChange={(e) => setUsername(e.target.value)}\n                    required\n                    placeholder='Username'\n                    />       \n        <input\n                    type=\"password\"\n                    value={password}\n                    onChange={(e) => setPassword(e.target.value)}\n                    required\n                    placeholder='Password'\n                    />\n        <input\n                    type=\"password\"\n                    value={confirmPassword}\n                    onChange={(e) => setConfirmPassword(e.target.value)}\n                    required\n                    placeholder='Confirm Password'\n                    />\n            <Button className='signup__submit' type=\"submit\">Let's roll!</Button>\n            <Link to='/' className='signup__cancel'>Cancel</Link>\n        </form>\n    </Container>\n    );\n}\n\nexport default SignupFormPage;"]},"metadata":{},"sourceType":"module"}