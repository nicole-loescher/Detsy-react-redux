{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/nicolelolo/Desktop/authenticate-me/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{useDispatch}from'react-redux';import*as sessionActions from'../../store/session';import Container from'react-bootstrap/Container';function ProfileButton(_ref){var user=_ref.user;var dispatch=useDispatch();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showMenu=_useState2[0],setShowMenu=_useState2[1];var openMenu=function openMenu(){if(showMenu)return;setShowMenu(true);};useEffect(function(){if(!showMenu)return;var closeMenu=function closeMenu(){console.log('hit');setShowMenu(false);};document.addEventListener('click',closeMenu);return function(){return document.removeEventListener(\"click\",closeMenu);};},[showMenu]);var logout=function logout(e){e.preventDefault();dispatch(sessionActions.logout());};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:openMenu,children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user-circle\"})}),showMenu&&/*#__PURE__*/_jsxs(\"ul\",{className:\"profile-dropdown\",children:[/*#__PURE__*/_jsx(\"li\",{children:user.username}),/*#__PURE__*/_jsx(\"li\",{children:user.email}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:logout,children:\"Log Out\"})})]})]});}export default ProfileButton;","map":{"version":3,"sources":["/Users/nicolelolo/Desktop/authenticate-me/frontend/src/components/Navigation/ProfileButton.js"],"names":["React","useState","useEffect","useDispatch","sessionActions","Container","ProfileButton","user","dispatch","showMenu","setShowMenu","openMenu","closeMenu","console","log","document","addEventListener","removeEventListener","logout","e","preventDefault","username","email"],"mappings":"sTAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,MAAO,GAAKC,CAAAA,cAAZ,KAAgC,qBAAhC,CACA,MAAOC,CAAAA,SAAP,KAAsB,2BAAtB,CAEA,QAASC,CAAAA,aAAT,MAAiC,IAARC,CAAAA,IAAQ,MAARA,IAAQ,CAC7B,GAAMC,CAAAA,QAAQ,CAAGL,WAAW,EAA5B,CAD6B,cAEGF,QAAQ,CAAC,KAAD,CAFX,wCAEtBQ,QAFsB,eAEZC,WAFY,eAI7B,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACnB,GAAIF,QAAJ,CAAc,OACdC,WAAW,CAAC,IAAD,CAAX,CACH,CAHD,CAKAR,SAAS,CAAC,UAAM,CACZ,GAAI,CAACO,QAAL,CAAe,OAEf,GAAMG,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACpBC,OAAO,CAACC,GAAR,CAAY,KAAZ,EACAJ,WAAW,CAAC,KAAD,CAAX,CACH,CAHD,CAKAK,QAAQ,CAACC,gBAAT,CAA0B,OAA1B,CAAmCJ,SAAnC,EAEA,MAAO,kBAAMG,CAAAA,QAAQ,CAACE,mBAAT,CAA6B,OAA7B,CAAsCL,SAAtC,CAAN,EAAP,CACH,CAXQ,CAWN,CAACH,QAAD,CAXM,CAAT,CAaA,GAAMS,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,CAAD,CAAO,CAClBA,CAAC,CAACC,cAAF,GACAZ,QAAQ,CAACJ,cAAc,CAACc,MAAf,EAAD,CAAR,CACH,CAHD,CAKA,mBACI,wCACI,eAAQ,OAAO,CAAEP,QAAjB,uBACI,UAAG,SAAS,CAAC,oBAAb,EADJ,EADJ,CAIKF,QAAQ,eACL,YAAI,SAAS,CAAC,kBAAd,wBACI,oBAAKF,IAAI,CAACc,QAAV,EADJ,cAEI,oBAAKd,IAAI,CAACe,KAAV,EAFJ,cAGI,iCACI,eAAQ,OAAO,CAAEJ,MAAjB,qBADJ,EAHJ,GALR,GADJ,CAgBH,CAED,cAAeZ,CAAAA,aAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useDispatch } from 'react-redux';\nimport * as sessionActions from '../../store/session';\nimport Container from 'react-bootstrap/Container'\n\nfunction ProfileButton({ user }) {\n    const dispatch = useDispatch();\n    const [showMenu, setShowMenu] = useState(false);\n\n    const openMenu = () => {\n        if (showMenu) return;\n        setShowMenu(true);\n    };\n\n    useEffect(() => {\n        if (!showMenu) return;\n\n        const closeMenu = () => {\n            console.log('hit')\n            setShowMenu(false);\n        };\n\n        document.addEventListener('click', closeMenu);\n\n        return () => document.removeEventListener(\"click\", closeMenu);\n    }, [showMenu]);\n\n    const logout = (e) => {\n        e.preventDefault();\n        dispatch(sessionActions.logout());\n    };\n\n    return (\n        <>\n            <button onClick={openMenu}>\n                <i className=\"fas fa-user-circle\" />\n            </button>\n            {showMenu && (\n                <ul className=\"profile-dropdown\">\n                    <li>{user.username}</li>\n                    <li>{user.email}</li>\n                    <li>\n                        <button onClick={logout}>Log Out</button>\n                    </li>\n                </ul>\n            )}\n        </>\n    );\n}\n\nexport default ProfileButton;"]},"metadata":{},"sourceType":"module"}