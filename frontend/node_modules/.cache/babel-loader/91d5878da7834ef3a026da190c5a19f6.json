{"ast":null,"code":"const SET_PRODUCT = 'product/SET_PRODUCT';\nexport const setProduct = payload => ({\n  type: SET_PRODUCT,\n  payload\n});\nexport const getProduct = () => async dispatch => {\n  const res = await fetch(`/api/products`);\n\n  if (res.ok) {\n    const products = await res.json();\n    dispatch(SET_PRODUCT(products));\n  }\n};\nconst initState = {\n  products: []\n};\nconst productReducer = (state = initState, action => {\n  switch (action.type) {\n    case SET_PRODUCT:\n      {\n        const allProducts = {};\n        action.payload.forEach(product => {\n          allProducts[product.id] = product;\n        });\n        return { ...allProducts,\n          ...state,\n          payload: action.payload\n        };\n      }\n\n    default:\n      return state;\n  }\n});\nexport default productReducer;","map":{"version":3,"sources":["/Users/nicolelolo/Desktop/authenticate-me/frontend/src/store/product.js"],"names":["SET_PRODUCT","setProduct","payload","type","getProduct","dispatch","res","fetch","ok","products","json","initState","productReducer","state","action","allProducts","forEach","product","id"],"mappings":"AAAA,MAAMA,WAAW,GAAG,qBAApB;AAEA,OAAO,MAAMC,UAAU,GAAIC,OAAD,KAAc;AACpCC,EAAAA,IAAI,EAAEH,WAD8B;AAEpCE,EAAAA;AAFoC,CAAd,CAAnB;AAKP,OAAO,MAAME,UAAU,GAAG,MAAM,MAAMC,QAAN,IAAiB;AAC7C,QAAMC,GAAG,GAAG,MAAMC,KAAK,CAAE,eAAF,CAAvB;;AAEA,MAAGD,GAAG,CAACE,EAAP,EAAU;AACN,UAAMC,QAAQ,GAAG,MAAMH,GAAG,CAACI,IAAJ,EAAvB;AACAL,IAAAA,QAAQ,CAACL,WAAW,CAACS,QAAD,CAAZ,CAAR;AACH;AACJ,CAPM;AAQP,MAAME,SAAS,GAAG;AACdF,EAAAA,QAAQ,EAAE;AADI,CAAlB;AAIA,MAAMG,cAAc,IAAKC,KAAK,GAAGF,SAAR,EAAmBG,MAAM,IAAI;AAClD,UAAQA,MAAM,CAACX,IAAf;AACI,SAAKH,WAAL;AAAkB;AACd,cAAMe,WAAW,GAAG,EAApB;AACAD,QAAAA,MAAM,CAACZ,OAAP,CAAec,OAAf,CAAuBC,OAAO,IAAI;AAC9BF,UAAAA,WAAW,CAACE,OAAO,CAACC,EAAT,CAAX,GAA0BD,OAA1B;AACH,SAFD;AAGA,eAAO,EACH,GAAGF,WADA;AAEH,aAAGF,KAFA;AAGHX,UAAAA,OAAO,EAAEY,MAAM,CAACZ;AAHb,SAAP;AAKH;;AACD;AACI,aAAOW,KAAP;AAbR;AAeH,CAhBmB,CAApB;AAiBA,eAAeD,cAAf","sourcesContent":["const SET_PRODUCT = 'product/SET_PRODUCT';\n\nexport const setProduct = (payload) => ({\n    type: SET_PRODUCT,\n    payload\n});\n\nexport const getProduct = () => async dispatch =>{\n    const res = await fetch(`/api/products`);\n\n    if(res.ok){\n        const products = await res.json();\n        dispatch(SET_PRODUCT(products))\n    }\n}\nconst initState = {\n    products: []\n}\n\nconst productReducer = ( state = initState, action => {\n    switch( action.type ){\n        case SET_PRODUCT: {\n            const allProducts = {};\n            action.payload.forEach(product => {\n                allProducts[product.id] = product;\n            })\n            return {\n                ...allProducts,\n                ...state,\n                payload: action.payload\n            }\n        }\n        default:\n            return state;\n    }\n})\nexport default productReducer;"]},"metadata":{},"sourceType":"module"}